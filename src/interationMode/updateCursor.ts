import type { CanvasCore } from '../CanvasCore';
import { InteractionMode } from '../types.js';

export function updateCursor( core: CanvasCore, isMouseDown: boolean ) {
    const interactionMode = core.interaction.mode;
    const canvas = core.renderer.canvas;

    switch ( interactionMode ) {
        case InteractionMode.Select:
            const selectSVG = `<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="rgb(201, 201, 201)" d="M30.6,11.9c0,1-0.6,1.8-1.6,2.1l-9.9,3c-1.1,0.3-1.9,1.1-2.2,2.2l-3,9.9c-0.3,0.9-1.1,1.5-2.1,1.6c-1,0-1.8-0.6-2.1-1.5L1.5,4.3C1.1,3.1,1.7,1.9,2.9,1.5c0.5-0.2,0.9-0.2,1.4,0l24.9,8.3C30.1,10.1,30.7,10.9,30.6,11.9z"/><path fill="rgb(0, 0, 0)" d="M11.8,32c-1.5,0-2.8-0.9-3.3-2.4L0.2,4.7C-0.1,3.8-0.1,2.8,0.4,2c0.4-0.9,1.2-1.5,2.1-1.8c0.7-0.2,1.5-0.2,2.3,0l24.9,8.3C31.1,9,32,10.4,32,11.9c0,1.6-1,2.9-2.5,3.3l-9.9,3c-0.6,0.2-1.1,0.7-1.3,1.3l-3,9.9C14.8,31,13.5,32,11.9,32C11.9,32,11.9,32,11.8,32z M3.6,2.7c-0.1,0-0.2,0-0.3,0C3.1,2.9,2.9,3,2.8,3.2c-0.1,0.2-0.1,0.4,0,0.6l8.3,24.9c0.1,0.3,0.4,0.5,0.8,0.5c0.4,0,0.7-0.2,0.8-0.6l3-9.9c0.5-1.5,1.6-2.7,3.1-3.1l9.9-3c0.3-0.1,0.6-0.4,0.6-0.8l0,0c0-0.4-0.2-0.7-0.6-0.8L3.8,2.8C3.7,2.8,3.6,2.7,3.6,2.7z"/></svg>`;
            canvas.style.cursor = `url("data:image/svg+xml,${ encodeURIComponent(selectSVG) }") 0 0, auto`;
            break;
        case InteractionMode.Pan:
            const grabbingSVG = '<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="rgb(201, 201, 201)" d="M12.7,3.2c-0.5,0-0.9,0.4-0.9,0.8v0.4c0,0.2-0.2,0.4-0.4,0.4S11,4.8,11,4.5V3.2c0-0.5-0.4-0.8-0.9-0.8c-0.5,0-0.9,0.4-0.9,0.8v1.3C9.3,4.8,9.1,5,8.8,5S8.4,4.8,8.4,4.6V2.4c0-0.5-0.4-0.9-0.8-0.9S6.7,2,6.7,2.4v2.2C6.7,4.8,6.5,5,6.2,5S5.8,4.8,5.8,4.6V3.2c0-0.5-0.4-0.8-0.8-0.8S4.1,2.8,4.1,3.2v3.9c0,0.2-0.2,0.4-0.5,0.4S3.2,7.4,3.2,7.2V6.5L3,6.7C2.6,7.1,2.3,7.6,2.3,8.2v1.2c0,0.6,0.2,1.1,0.7,1.6l1.8,1.8c1.1,1.1,2.6,1.7,4.1,1.7c2.6,0,4.8-2.1,4.8-4.8V4.1C13.6,3.7,13.2,3.2,12.7,3.2z"/><path d="M12.7,1.8L12.7,1.8c-0.2,0-0.4,0-0.7,0.1c-0.4-0.6-1.1-0.9-1.9-0.9l0,0C9.9,0.9,9.7,1,9.4,1C9,0.3,8.3,0,7.5,0S6.1,0.3,5.6,0.9C5.4,0.9,5.2,0.8,4.9,0.8l0,0c-1.3,0-2.4,1-2.4,2.4v1.7L1.9,5.6C1.2,6.3,0.8,7.2,0.8,8.2v1.3c0,1,0.4,1.9,1.1,2.6l1.7,1.8C5,15.2,6.9,16,8.8,16c3.4,0,6.2-2.8,6.2-6.2V4.1C15.1,2.8,14,1.8,12.7,1.8z M4.7,12.8L3,11.1c-0.4-0.4-0.7-0.9-0.7-1.6V8.2c0-0.6,0.2-1.1,0.7-1.6l0.2-0.2v0.7c0,0.2,0.2,0.4,0.5,0.4s0.5-0.2,0.5-0.4V3.2c0-0.5,0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8v1.3C5.8,4.8,6,5,6.3,5s0.4-0.2,0.4-0.4V2.4c0-0.5,0.4-0.9,0.8-0.9c0.5,0,0.8,0.4,0.8,0.9v2.2C8.4,4.8,8.6,5,8.9,5s0.4-0.2,0.4-0.4V3.2c0-0.5,0.4-0.8,0.9-0.8c0.5,0,0.9,0.4,0.9,0.8v1.3C11,4.8,11.2,5,11.5,5s0.4-0.2,0.4-0.4V4.1c0-0.5,0.4-0.8,0.9-0.8c0.5,0,0.9,0.4,0.9,0.8v5.6c0,2.6-2.2,4.8-4.8,4.8C7.3,14.5,5.8,13.9,4.7,12.8z"/></svg>';
            const handSVG = '<svg width="18" height="21" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 21"><path fill="rgb(201, 201, 201)" d="M14.5,4.3c-0.5,0-1,0.4-1,1v4.5c0,0.1-0.1,0.3-0.3,0.3c-0.1,0-0.3-0.1-0.3-0.3V3.2c0-0.5-0.5-1-1-1s-1,0.4-1,1v5.9c0,0.1-0.1,0.3-0.3,0.3c-0.1,0-0.3-0.1-0.3-0.3V2.5c0-0.5-0.5-1-1-1s-1,0.4-1,1v6.6c0,0.1-0.1,0.3-0.3,0.3c-0.1,0-0.3-0.1-0.3-0.3V3.9c0-0.5-0.4-1-1-1c-0.5,0-1,0.4-1,1v8.7l-1.4-1.9C4,10.2,3.5,10,3.1,10c-0.2,0-0.4,0-0.6,0.2c-0.6,0.3-0.7,1.2-0.3,1.8c0,0,2.2,3.4,3.2,4.9c0.9,1.5,2.5,2.6,4.8,2.5c4.9,0,5.3-3.7,5.3-4.8V5.3C15.5,4.8,15,4.3,14.5,4.3z"/><path d="M15,2.8c-0.1,0-0.2,0-0.3,0c-0.2-1.2-1.3-2.1-2.5-2.1c-0.3,0-0.6,0.1-0.9,0.2C10.9,0.3,10.3,0,9.5,0c-1,0-1.9,0.6-2.3,1.4c-0.2,0-0.3,0-0.5,0c-1.4,0-2.5,1.1-2.5,2.5v4.8C3.9,8.6,3.5,8.5,3.1,8.5c-0.5,0-1,0.1-1.4,0.4c-0.6,0.4-1,1-1.2,1.7c-0.2,0.7,0,1.5,0.4,2.2c0,0,2.3,3.4,3.2,4.9c1.4,2.2,3.7,3.3,6.7,3.3c5,0,6.8-3.4,6.8-6.3V5.3C17.6,3.9,16.4,2.8,15,2.8z M15.5,14.6c0,1.1-0.4,4.8-5.3,4.8c-2.3,0.1-3.9-1-4.8-2.5c-1-1.5-3.2-4.9-3.2-4.9c-0.4-0.6-0.3-1.5,0.3-1.8C2.7,10,2.9,10,3.1,10c0.4,0,0.9,0.2,1.2,0.7l1.4,1.9V3.9c0-0.6,0.5-1,1-1c0.6,0,1,0.5,1,1v5.2c0,0.2,0.2,0.3,0.3,0.3c0.2,0,0.3-0.2,0.3-0.3V2.5c0-0.6,0.5-1,1-1s1,0.5,1,1v6.6c0,0.2,0.2,0.3,0.3,0.3c0.2,0,0.3-0.2,0.3-0.3V3.2c0-0.6,0.5-1,1-1s1,0.5,1,1v6.6c0,0.2,0.2,0.3,0.3,0.3c0.2,0,0.3-0.2,0.3-0.3V5.3c0-0.6,0.5-1,1-1s1,0.5,1,1V14.6z"/></svg>';
            const cusror = isMouseDown ? encodeURIComponent(grabbingSVG) : encodeURIComponent(handSVG);
            canvas.style.cursor = `url("data:image/svg+xml,${ cusror }") 0 0, auto`;
            break;
    }
}